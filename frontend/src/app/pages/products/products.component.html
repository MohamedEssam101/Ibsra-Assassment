<section>
  @if(products$ | async ; as products) {

  <div
    class="container mx-auto my-40 grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 auto-cols-fr auto-rows-fr"
  >
    @for (product of products.data; track product._id) {

    <div
      class="flex flex-col border-2 rounded-xl border-white shadow justify-around"
    >
      <!-- image part -->
      <img [src]="product.imageCover" />
      <!-- Description aprt -->
      <div class="pl-3">
        <p class="text-xl font-medium pb-2">{{ product.name }}</p>
        <span class="line-clamp-3 text-gray-700">{{
          product.description
        }}</span>

        <p class="text-gray-700 pt-1">{{ product.price | currency }}</p>
      </div>
      <!-- buttons -->
      <div>
        <div class="grid grid-cols-2 gap-4 pt-3 mt-auto pb-4 px-3">
          <p-button
            label="wishlist"
            [raised]="true"
            severity="secondary"
            styleClass="w-full"
          />
          <p-button
            label="View Product"
            [raised]="true"
            styleClass="w-full"
            [routerLink]="['/products', product._id]"
          />
        </div>
        <div class="px-3">
          <p-button label="Add to Cart" [raised]="true" styleClass="w-full" />
        </div>
      </div>
    </div>

    }
  </div>
  <div class="card flex justify-center">
    <p-paginator
      (onPageChange)="nextPage($event)"
      [first]="0"
      [rows]="10"
      [totalRecords]="products.pagination.totalProducts"
    />
  </div>
  }
</section>
